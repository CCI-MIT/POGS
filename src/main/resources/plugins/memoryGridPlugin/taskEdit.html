
<div>
    <div class="form-group row">
            <label class="col-sm-3 col-form-label" for="taskText">Task Text:</label>
            <div class="col-sm-9">
                <textarea class="form-control htmleditor" id="taskText" rows="3"></textarea>
            </div>
        </div>
    <div class="form-group row">
        <label class="col-sm-3 col-form-label" for="sudokuDifculty">Create new grid
                    configuration:</label>
        <div class="col-sm-3">
            <label class="" for="colsSize">Columns:</label>
            <select id="colsSize">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
            </select>
        </div>
        <div class="col-sm-3">
            <label class="" for="rowsSize">Rows:</label>
            <select id="rowsSize">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
            </select>
        </div>

        <div class="col-sm-3">
            <button type="button" class="btn btn-primary" id="createGrid">Setup grid</button>
        </div>
    </div>
        <table id="gridTable" style="margin-bottom: 30px;">
        </table>
        <script>
        $(function () {
                $(".htmleditor").summernote(
                            {
                            height: 200,
                            toolbar: [
                                // [groupName, [list of button]]
                                ['para', ['style','ul', 'ol', 'paragraph']],
                                ['style', ['bold', 'italic', 'underline', 'clear']],
                                ['font', ['strikethrough', 'superscript', 'subscript']],
                                ['fontsize', ['fontsize']],
                                ['color', ['color']],
                                ['insert', ['picture','link','video','table','codeview']]
                              ],
                              callbacks: {
                                  onImageUpload: function(files) {
                                console.log("Send file called success override: " + this);
                                for(let i=0; i < files.length; i++) {
                                    sendFile(files[0],this);
                                 }
                             }
                            }
                         });

                        function sendFile(file,editor) {
                            console.log("Send file method");
                            data = new FormData();
                            data.append("file", file);
                            $.ajax({
                                data: data,
                                type: "POST",
                                url: "/images/upload?[(${_csrf.parameterName})]=[(${_csrf.token})]",
                                cache: false,
                                contentType: false,
                                processData: false,
                                success: function(url) {
                                        $(editor).summernote('insertImage', url);
                                }
                            });
                        };

                });
        </script>
</div>